<!DOCTYPE html>
<html>
	<head>
		<title>Test master/detail</title>
		<style type="text/css">
			@import "../../dojo/resources/dojo.css";
			.cell {
				width: 16ex;
				display: inline-block;
			}
		</style>
		<script type="text/javascript" src="../../dojo/dojo.js" 
			data-dojo-config="async: 1"></script>
		<script type="text/javascript">
			require([
				"dbind/tests/testAddressViewModel",
				"dbind/bind",
				"dbind/parse",
				"dojo/domReady!"
			], function(viewModel, bind){
				bind(document.body).use(bind.container).to(viewModel);
				bind(document.getElementById("detail")).use(bind.container).to(viewModel.selection);
			});
		</script>
	</head>
	<body>
		<h2>Test master/detail</h2>
		<div>
			<label for="group">Select group:</label>
			<select id="group" data-mvc-bindings="foreach: groups, value: group"></select>
			<input type="button" value="Commit All" data-mvc-bindings="onclick: pushAll">
			<input type="button" value="Reset All" data-mvc-bindings="onclick: pullAll">
		</div>
		<div data-mvc-bindings="foreach: collection">
			<script type="dbind/InlineTemplate">
				<div>
					<input name="First" type="text">
					<input type="button" value="Details"
						data-mvc-bindings="uniqueId: id, onclick: parent.select">
				</div>
			</script>
		</div>
		<div id="detail">
			<div>
				<label class="cell" for="first">First Name:</label>
				<input id="first" name="First" type="text">
			</div>
			<div>
				<label class="cell" for="last">Last Name:</label>
				<input id="last" name="Last" type="text">
			</div>
			<div>
				<label class="cell" for="office">Office:</label>
				<input id="office" name="Office" type="text">
			</div>
			<div>
				<label class="cell" for="email">Email:</label>
				<input id="email" name="Email" type="text">
			</div>
			<div>
				<label class="cell" for="phone">Telephone:</label>
				<input id="phone" name="Tel" type="text">
			</div>
			<div>
				<label class="cell" for="fax">Fax:</label>
				<input id="fax" name="Fax" type="text">
			</div>
		</div>
		<div>
			<input type="button" value="Commit" data-mvc-bindings="onclick: pushCurrent">
			<input type="button" value="Reset" data-mvc-bindings="onclick: pullCurrent">
		</div>
	</body>
</html>